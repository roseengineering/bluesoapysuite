---
  # code

  - become: yes
    pip:
      name:
      - paho-mqtt

  - become: yes
    copy:
      mode: 0755
      dest: /usr/local/bin/mqclient
      content: !!binary |
        IyEvdXNyL2Jpbi9weXRob24zCgppbXBvcnQgc3lzCmltcG9ydCBhcmdwYXJz
        ZQppbXBvcnQgcGFoby5tcXR0LmNsaWVudCBhcyBtcXR0CgpwYXJzZXIgPSBh
        cmdwYXJzZS5Bcmd1bWVudFBhcnNlcigKICAgIGZvcm1hdHRlcl9jbGFzcz1h
        cmdwYXJzZS5Bcmd1bWVudERlZmF1bHRzSGVscEZvcm1hdHRlcikKcGFyc2Vy
        LmFkZF9hcmd1bWVudCgiLS1icm9rZXIiLCBkZWZhdWx0PSIxMjcuMC4wLjEi
        LCBoZWxwPSdicm9rZXIgaG9zdCcpCnBhcnNlci5hZGRfYXJndW1lbnQoIi0t
        cG9ydCIsIGRlZmF1bHQ9MTg4MywgaGVscD0nYnJva2VyIHBvcnQnKQpwYXJz
        ZXIuYWRkX2FyZ3VtZW50KCItLWtlZXBhbGl2ZSIsIGRlZmF1bHQ9NjAsIGhl
        bHA9J2Jyb2tlciBrZWVwIGFsaXZlJykKcGFyc2VyLmFkZF9hcmd1bWVudCgi
        LS10b3BpYyIsIGRlZmF1bHQ9ImYvdHgiLCBoZWxwPSdjb21tYW5kIHRvcGlj
        JykKCmRlZiBnZW5fdG9waWMobmFtZT1Ob25lKToKICAgIGQgPSBhcmdzLnRv
        cGljLnNwbGl0KCcvJylbOi0xXQogICAgaWYgbmFtZSBpcyBub3QgTm9uZToK
        ICAgICAgICBkLmFwcGVuZChuYW1lKQogICAgcmV0dXJuICcvJy5qb2luKGQp
        CgpkZWYgb25fY29ubmVjdChjbGllbnQsIHVzZXJkYXRhLCBmbGFncywgcmMp
        OgogICAgY2xpZW50LnN1YnNjcmliZShnZW5fdG9waWMoJyMnKSkKCmRlZiBv
        bl9tZXNzYWdlKGNsaWVudCwgdXNlcmRhdGEsIG1zZyk6CiAgICBwcmludCht
        c2cudG9waWMgKyAiICIgKyBtc2cucGF5bG9hZC5kZWNvZGUoJ2xhdGluJykp
        CgpkZWYgbWFpbigpOgogICAgY2xpZW50ID0gbXF0dC5DbGllbnQoKQogICAg
        Y2xpZW50Lm9uX2Nvbm5lY3QgPSBvbl9jb25uZWN0CiAgICBjbGllbnQub25f
        bWVzc2FnZSA9IG9uX21lc3NhZ2UKICAgIGNsaWVudC5jb25uZWN0KGFyZ3Mu
        YnJva2VyLCBhcmdzLnBvcnQsIGFyZ3Mua2VlcGFsaXZlKQogICAgY2xpZW50
        Lmxvb3Bfc3RhcnQoKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBsaW5lID0g
        bmV4dChzeXMuc3RkaW4pLnJzdHJpcCgpCiAgICAgICAgY2xpZW50LnB1Ymxp
        c2goYXJncy50b3BpYywgbGluZSkgCgppZiBfX25hbWVfXyA9PSAnX19tYWlu
        X18nOgogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKICAgIG1haW4o
        KQoKCg==




